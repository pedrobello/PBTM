<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1">



<title>The PBTM R-Package</title>

<script>$(document).ready(function(){
    if (typeof $('[data-toggle="tooltip"]').tooltip === 'function') {
        $('[data-toggle="tooltip"]').tooltip();
    }
    if ($('[data-toggle="popover"]').popover === 'function') {
        $('[data-toggle="popover"]').popover();
    }
});
</script>





<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">The PBTM R-Package</h1>



<div id="overview" class="section level2">
<h2>Overview</h2>
<div id="population-based-threshold-models-pbtm-calculator---beta-version." class="section level4">
<h4>Population-based Threshold Models (PBTM) Calculator - beta version.</h4>
<p>This R package combines existing PBTMs calculation, parameters output and respective plots.</p>
</div>
</div>
<div id="installation" class="section level2">
<h2>Installation</h2>
<p>Installation of the package requires the “devtools” package.</p>
<div id="install-development-version-from-github" class="section level4">
<h4>Install development version from Github</h4>
<pre><code>&gt; devtools::install_github(&quot;pedrobello/PBTM&quot;)</code></pre>
</div>
<div id="load-package" class="section level4">
<h4>Load package</h4>
<pre><code>&gt; library(&quot;PBTM&quot;)</code></pre>
</div>
</div>
<div id="data-preparation-steps" class="section level2">
<h2>Data preparation steps</h2>
<p>Before using the PBTM package, data preparation and selection is required. Main steps are described below.</p>
<ul>
<li>Download the template file (download <a href="https://raw.githubusercontent.com/pedrobello/PBTM/master/data/PBTM-R-Dt-Empty.csv" download> PBTM-R-Dt-Empty.csv </a> or the example file <a href="https://raw.githubusercontent.com/pedrobello/PBTM/master/data/PBTM-R-Dt-Sample.csv">PBTM-R-Dt-Sample.csv</a>).</li>
<li>Enter your data in the proper field and leave unsed columns in blank. Repeat the treatment information for all data points of that treatment. Description of all fields present in the template file in the table below.</li>
</ul>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:200px; overflow-x: scroll; width:100%; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Field
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Description
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Type
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Model.Requisite
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Treat.ID
</td>
<td style="text-align:left;">
Treatment unique number
</td>
<td style="text-align:left;">
Sequential numeric field
</td>
<td style="text-align:left;">
All models
</td>
</tr>
<tr>
<td style="text-align:left;">
Treat.desc
</td>
<td style="text-align:left;">
Description of the lot and treatment.
</td>
<td style="text-align:left;">
Text field
</td>
<td style="text-align:left;">
All models
</td>
</tr>
<tr>
<td style="text-align:left;">
Treat.aging.time
</td>
<td style="text-align:left;">
Aging time
</td>
<td style="text-align:left;">
Number (0-positive)
</td>
<td style="text-align:left;">
Aging Model
</td>
</tr>
<tr>
<td style="text-align:left;">
Treat.priming.wp
</td>
<td style="text-align:left;">
Measured water potential used during priming
</td>
<td style="text-align:left;">
Number (0-negative)
</td>
<td style="text-align:left;">
Priming models (hydropriming and hydrothermal priming)
</td>
</tr>
<tr>
<td style="text-align:left;">
Treat.priming.temp
</td>
<td style="text-align:left;">
Measured temperature during priming
</td>
<td style="text-align:left;">
Number (0-negative)
</td>
<td style="text-align:left;">
Hydrothermal priming model
</td>
</tr>
<tr>
<td style="text-align:left;">
Treat.priming.duration
</td>
<td style="text-align:left;">
Priming duration
</td>
<td style="text-align:left;">
Number (hours or days)
</td>
<td style="text-align:left;">
Priming models (hydropriming and hydrothermal priming)
</td>
</tr>
<tr>
<td style="text-align:left;">
Germ.wp
</td>
<td style="text-align:left;">
Measured germination water potential
</td>
<td style="text-align:left;">
Number (0-negative)
</td>
<td style="text-align:left;">
Hydrotime and Hydrothermal models
</td>
</tr>
<tr>
<td style="text-align:left;">
Germ.temp
</td>
<td style="text-align:left;">
Measured germination temperature
</td>
<td style="text-align:left;">
Number (temperature in celsius)
</td>
<td style="text-align:left;">
Thermaltime and hydrothermal models
</td>
</tr>
<tr>
<td style="text-align:left;">
Germ.promoter.dosage
</td>
<td style="text-align:left;">
Measured concentration of the germination promoter
</td>
<td style="text-align:left;">
Number (0-positive)
</td>
<td style="text-align:left;">
Promoter model
</td>
</tr>
<tr>
<td style="text-align:left;">
Germ.inhibitor.dosage
</td>
<td style="text-align:left;">
Measured concentration of the germination inhibitor
</td>
<td style="text-align:left;">
Number (0-positive)
</td>
<td style="text-align:left;">
Inhibitor model
</td>
</tr>
<tr>
<td style="text-align:left;">
Germ.time.hours
</td>
<td style="text-align:left;">
Germination time
</td>
<td style="text-align:left;">
Number (hours)
</td>
<td style="text-align:left;">
All models
</td>
</tr>
<tr>
<td style="text-align:left;">
Germ.pct
</td>
<td style="text-align:left;">
Germination percentage
</td>
<td style="text-align:left;">
Number (percentage 0-100)
</td>
<td style="text-align:left;">
All models
</td>
</tr>
<tr>
<td style="text-align:left;">
Germ.fraction
</td>
<td style="text-align:left;">
Germination fraction
</td>
<td style="text-align:left;">
Number (fraction 0-1)
</td>
<td style="text-align:left;">
All models
</td>
</tr>
</tbody>
</table>
</div>
<p><br></p>
<ul>
<li>Inform your working folder in R. Add the folder location of your data files.</li>
</ul>
<pre><code>&gt; setwd(&quot;~/MyProjectFolder/MyDataFolder&quot;)</code></pre>
<ul>
<li>Load Seeds data - Add the name of the data file (csv file)</li>
</ul>
<pre><code>&gt; mydata &lt;- read.csv(&quot;PBTM-R-Data-MyData.csv&quot;, header=T)</code></pre>
<ul>
<li>In case the data file has more treatments than you wish to use on a partiular model calculation, filter only the data that will be used to calculate that particular model. Some examples:
<ul>
<li><p>Thermal time model: Select only treatments with germination tested in water (wp = 0) for a particular seed lot (Treat.ID = 1)</p>
<pre><code>&gt; TreatData &lt;- subset(mydata, Treat.ID == 1 &amp; Germ.wp==0)</code></pre></li>
<li><p>Hydrotime model: Select only treatments with germination tested in a certain temperature (temp = 25C) for a particular seed lot (Treat.ID = 1)</p>
<pre><code>&gt; TreatData &lt;- subset(mydata, Treat.ID == 1 &amp; Germ.temp==25)</code></pre></li>
<li><p>Hydrothermal time suboptimal model: Select only treatments with germination tested in a certain temperature range (temp &lt; 26C) for a particular seed lot (Treat.ID = 1)</p>
<pre><code>&gt; TreatData &lt;- subset(mydata, Treat.ID == 1 &amp; Germ.temp &lt; 26)</code></pre></li>
</ul></li>
<li>Whenever the data file is already filtered only with the data to be used in the model calculation, reference the filtered data to the TreatData data table (step already perfomed above when data filtering is required).</li>
</ul>
<pre><code>&gt; TreatData &lt;- mydata</code></pre>
</div>
<div id="model-selection" class="section level2">
<h2>Model Selection</h2>
<p>After the data to be used in the model calculation is passed to the TreatData table, now define the model to be calculated. Currently, the following models are available for calculation:</p>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; overflow-x: scroll; width:100%; ">
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
Code
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
Model
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
Reference
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
Function
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
1.1
</td>
<td style="text-align:center;width: 17em; font-weight: bold;">
Thermal time suboptimal
</td>
<td style="text-align:center;">
Bierhuizen and Wagenvoort (1974) Scientia Horticulturae 2, 213–219.;  Garcia-Huidobro et al. (1982) Journal of Experimental Botany 33, 288–296.;  Covell et al. (1986) Journal of Experimental Botany 37, 705–715.; &lt;br&gt; Dahal et al. (1990) Journal of Experimental Botany 41, 1431–1439.; Alvarado and Bradford (2002) Plant, Cell &amp; Environment 25, 1061–1069.; Gummerson (1986) Journal of Experimental Botany 37, 729-741; Bradford (1990) Plant Physiology 94, 840-849.
</td>
<td style="text-align:center;">
DefineModel(1.1)
</td>
</tr>
<tr>
<td style="text-align:center;">
1.2
</td>
<td style="text-align:center;width: 17em; font-weight: bold;">
Thermal time supra-optimal
</td>
<td style="text-align:center;">
Alvarado and Bradford (2002) Plant, Cell and Environment 25, 1061–106; &lt;br&gt; Rowse and Finch-Savage (2003) New Phytologist 158: 101-108.
</td>
<td style="text-align:center;">
DefineModel(1.2)
</td>
</tr>
<tr>
<td style="text-align:center;">
2.1
</td>
<td style="text-align:center;width: 17em; font-weight: bold;">
Hydrotime suboptimal
</td>
<td style="text-align:center;">
Gummerson (1986) Journal of Experimental Botany 37, 729–741.; Bradford (1990) Plant Physiology 94, 840–849.
</td>
<td style="text-align:center;">
DefineModel(2.1)
</td>
</tr>
<tr>
<td style="text-align:center;">
2.2
</td>
<td style="text-align:center;width: 17em; font-weight: bold;">
Hydrotime supra-optimal
</td>
<td style="text-align:center;">
Alvarado and Bradford (2002) Plant, Cell and Environment 25, 1061–106
</td>
<td style="text-align:center;">
DefineModel(2.2)
</td>
</tr>
<tr>
<td style="text-align:center;">
3.1
</td>
<td style="text-align:center;width: 17em; font-weight: bold;">
Hydrothermal time suboptimal
</td>
<td style="text-align:center;">
Gummerson (1986) Journal of Experimental Botany 37, 729-741; Dahal and Bradford (1994) Seed Science Research 4, 71–80.
</td>
<td style="text-align:center;">
DefineModel(3.1)
</td>
</tr>
<tr>
<td style="text-align:center;">
3.2
</td>
<td style="text-align:center;width: 17em; font-weight: bold;">
Hydrothermal time supra-optimal
</td>
<td style="text-align:center;">
Alvarado and Bradford (2002) Plant, Cell and Environment 25, 1061–1069.
</td>
<td style="text-align:center;">
DefineModel(3.2)
</td>
</tr>
<tr>
<td style="text-align:center;">
4.1
</td>
<td style="text-align:center;width: 17em; font-weight: bold;">
Dosage promoter
</td>
<td style="text-align:center;">
Ni and Bradford (1993) Plant Physiology 101, 607–617.
</td>
<td style="text-align:center;">
In progress
</td>
</tr>
<tr>
<td style="text-align:center;">
4.2
</td>
<td style="text-align:center;width: 17em; font-weight: bold;">
Dosage inhibitor
</td>
<td style="text-align:center;">
Ni and Bradford (1992) Plant Physiology 98, 1057–1068.
</td>
<td style="text-align:center;">
In progress
</td>
</tr>
<tr>
<td style="text-align:center;">
5.1
</td>
<td style="text-align:center;width: 17em; font-weight: bold;">
Aging
</td>
<td style="text-align:center;">
Bradford (1993) Journal of Experimental Botany 44, 1225–1234.
</td>
<td style="text-align:center;">
In progress
</td>
</tr>
<tr>
<td style="text-align:center;">
6.1
</td>
<td style="text-align:center;width: 17em; font-weight: bold;">
Hydropriming
</td>
<td style="text-align:center;">
Bradford (1986) HortScience 21, 1105-1112.; Tarquis and Bradford (1992) Journal of Experimental Botany 43, 307-317.
</td>
<td style="text-align:center;">
DefineModel(6.1)
</td>
</tr>
<tr>
<td style="text-align:center;">
6.2
</td>
<td style="text-align:center;width: 17em; font-weight: bold;">
Hydrothermal priming
</td>
<td style="text-align:center;">
Bradford and Haigh (1994) Seed Scence Research 4, 63-69.
</td>
<td style="text-align:center;">
DefineModel(6.2)
</td>
</tr>
</tbody>
</table>
</div>
<p>The model is selected using the function “DefineModel()” with the respective code of the model as described above. Examples below.</p>
<pre><code>&gt; DefineModel(1.1)

[1] &quot;Thermaltime suboptimal model selected&quot;</code></pre>
<pre><code>&gt; DefineModel(3.1)

[1] &quot;Hydrothermal time suboptimal model selected&quot;</code></pre>
</div>
<div id="basic-functions" class="section level2">
<h2>Basic Functions</h2>
<div id="plotrawdata" class="section level3">
<h3>PlotRawData()</h3>
<p>Plot your raw data to be used on model. Cumulative germination (or other measured signal) curves will be plotted against time in hours. Treatments legend will be created based on the selected model. The data to be used on the models and plotted here must be referenced to the <strong>TreatData</strong> data table.</p>
<p>Note that the <code>echo = FALSE</code> parameter was added to the code chunk to prevent printing of the R code that generated the plot.</p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
